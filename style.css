#final-screen {
    transition: none !important;
}

#final-screen:not(.active) {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
}

#sad-ending {
    opacity: 1;
}

#final-heart,
#final-question,
#final-screen .button-group {
    transition: none !important;
}

/* Улучшенная анимация выброса сердца */
@keyframes throwHeart {
    0% {
        transform: translate(0, 0) scale(1) rotate(0deg);
        opacity: 1;
        left: 50%;
        top: 0;
    }
    40% {
        transform: translateY(100px) scale(0.8) rotate(180deg);
        opacity: 0.9;
        left: 50%;
    }
    70% {
        transform: translateY(200px) scale(0.6) rotate(360deg);
        opacity: 0.7;
        left: 50%;
    }
    100% {
        transform: translateY(250px) translateX(50px) scale(0.4) rotate(540deg);
        opacity: 0.3;
        left: 70%;
    }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Nunito', sans-serif;
}

body {
    background: linear-gradient(135deg, #ffe6f2 0%, #ffccde 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
    touch-action: pan-y;
}

.container {
    width: 100%;
    max-width: 1000px;
    padding: 20px;
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

/* ЭКРАНЫ - без прокрутки, фиксированная высота */
.screen {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 20px;
    animation: fadeIn 0.2s ease;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    overflow: hidden;
    transition: opacity 0.2s ease; /* Добавьте это */
}

.screen.active {
    display: flex;
    opacity: 1;
}

.screen:not(.active) {
    opacity: 0;
    pointer-events: none;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* СЕРДЦЕ - оптимальный размер для всех экранов */
.heart-wrapper {
    position: relative;
    margin-bottom: 20px;
    width: 500px; /* СДЕЛАЛ ШИРЕ: было 400px */
    height: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1200px;
    overflow: visible; /* Добавил для видимости */
}

.heart-container {
    position: relative;
    width: 300px;
    height: 300px;
    transform-style: preserve-3d;
    cursor: pointer;
}

/* ОСНОВА СЕРДЦА */
.heart-base {
    position: absolute;
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, #ff4d79 0%, #ff79a9 100%);
    clip-path: path('M150,60 C90,0 30,30 30,90 C30,150 90,210 150,270 C210,210 270,150 270,90 C270,30 210,0 150,60 Z');
    box-shadow: 0 0 25px rgba(255, 77, 121, 0.5);
    z-index: 1;
}

/* ПЕРЕДНЯЯ ПОЛОВИНА СЕРДЦА - верхний слой */
.heart-front {
    position: absolute;
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, #ff4d79 0%, #ff79a9 100%);
    clip-path: path('M150,60 C90,0 30,30 30,90 C30,150 90,210 150,270 C210,210 270,150 270,90 C270,30 210,0 150,60 Z');
    transform-origin: left center;
    transition: transform 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow:
        inset 0 0 30px rgba(255, 255, 255, 0.3),
        0 0 25px rgba(255, 77, 121, 0.5);
    z-index: 3; /* Самый верхний слой */
    cursor: pointer;
}

/* СЛОЖЕННОЕ СОСТОЯНИЕ */
.heart.folded .heart-front {
    transform: rotateY(0deg);
    z-index: 3; /* Всегда сверху в сложенном состоянии */
}

/* РАСКРЫТОЕ СОСТОЯНИЕ */
.heart.unfolded .heart-front {
    transform: rotateY(-160deg);
    z-index: 3; /* Остается сверху, но поворачивается */
}

/* СОДЕРЖИМОЕ СЕРДЦА - ВСЁ ВИДНО */
.heart-content {
    position: absolute;
    width: 240px;
    height: 240px;
    background-color: transparent; /* Изменили white на transparent */
    border-radius: 15px;
    top: 30px;
    left: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    padding: 0; /* Убрали padding или сделали меньше */
    opacity: 0;
    visibility: hidden;
    transform: scale(0.9);
    transition:
        opacity 0.3s ease,
        visibility 0.3s ease,
        transform 0.5s ease;
    z-index: 2;
    box-shadow:
        /* Убрали inset тень которая создавала белую границу */
        0 5px 20px rgba(0, 0, 0, 0.15);
    border: 4px solid #ffccdc; /* Розовая рамка останется */
}
#photo-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    max-width: 900px;
    margin: 30px auto;
    padding: 0 20px;

}

#photo-grid img {
    width: 100%;
    height: 200px; /* Фиксированная высота для всех фото */
    object-fit: cover; /* Обрезаем фото по размеру */
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    background-color: #f0f0f0; /* Фон на случай если фото не загрузится */

}

#photo-grid img:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}


/* Содержимое видно ТОЛЬКО когда сердце полностью раскрыто */
.heart.unfolded .heart-content {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
    z-index: 2;
    transition-delay: 0.2s; /* Задержка чтобы сначала открылось сердце */
}

/* При сложенном сердце содержимое скрыто БЕЗ задержки */
.heart.folded .heart-content {
    opacity: 0;
    visibility: hidden;
    transform: scale(0.9);
    transition:
        opacity 0.3s ease,
        visibility 0.3s ease,
        transform 0.3s ease;
    z-index: 2;
}

.heart-content img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Картинки не обрезаются */
    border-radius: 10px;
    display: block;
}

/* ВОПРОС */
.question {
    font-family: 'Dancing Script', cursive;
    font-size: 2.8rem;
    color: #d81b60;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 90%;
    text-align: center;
}

/* ГРУППА КНОПОК - фиксированная позиция внизу */
.button-group {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed; /* Фиксируем внизу экрана */
    bottom: 30px;
    left: 0;
    width: 100%;
    padding: 0 20px;
    z-index: 100;
    gap: 20px;
}

/* Кнопка "ДА" */
.btn-yes {
    background: linear-gradient(to right, #ff4081, #ff79a9);
    color: white;
    border: none;
    padding: 16px 40px;
    font-size: 1.7rem;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 6px 15px rgba(255, 64, 129, 0.4);
    transition: all 0.3s ease;
    font-weight: 700;
    letter-spacing: 1px;
    z-index: 101;
    position: relative;
}

.btn-yes:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 20px rgba(255, 64, 129, 0.6);
}

/* Кнопка "НЕТ" */
.btn-no {
    background-color: #b0b0b0;
    color: #888;
    border: none;
    padding: 10px 20px;
    font-size: 1.2rem;
    border-radius: 25px;
    cursor: pointer;
    transition: left 0.1s ease-out, top 0.1s ease-out !important;
    position: absolute;
    z-index: 102;
    user-select: none;
    opacity: 0.7;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    pointer-events: auto;
    display: block !important;
    visibility: visible !important;
    left: calc(50% + 90px);
    top: 50%
    transform: none !important; /* УБИРАЕМ transform: translateY(-50%) */
}

.btn-no.escaping {
    position: fixed !important;
    z-index: 1000 !important;
}

/* Только на последнем экране кнопка "нет" становится обычной */
/* ЭФФЕКТЫ ДЛЯ ФИНАЛЬНОГО ЭКРАНА */
#final-screen .question {
    font-family: 'Dancing Script', cursive;
    font-size: 2.8rem;
    color: #d81b60;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    min-height: 80px;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Кнопка "нет" на финальном экране - такой же дизайн */
#final-screen .btn-no {
    background-color: #b0b0b0 !important;
    color: #888 !important;
    padding: 10px 20px !important;
    font-size: 1.2rem !important;
    border-radius: 25px !important;
    opacity: 0.7 !important;
    position: absolute !important;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
    border: none !important;
    cursor: pointer !important;
    transition: left 0.1s ease-out, top 0.1s ease-out !important;
    z-index: 10 !important;
    user-select: none !important;
}

#final-screen .btn-no:hover {
    opacity: 0.8 !important;
}

#final-screen .btn-no.escaping {
    position: fixed !important;
    z-index: 1000 !important;
}

/* Кнопка "да" на финальном экране */
#final-screen .btn-yes {
    background: linear-gradient(to right, #ff4081, #ff79a9) !important;
    color: white !important;
    padding: 16px 40px !important;
    font-size: 1.7rem !important;
    border-radius: 50px !important;
    border: none !important;
    cursor: pointer !important;
    box-shadow: 0 6px 15px rgba(255, 64, 129, 0.4) !important;
    transition: all 0.3s ease !important;
    font-weight: 700 !important;
    letter-spacing: 1px !important;
    z-index: 11 !important;
    position: relative !important;
}

#final-screen .btn-yes:hover {
    transform: translateY(-3px) scale(1.05) !important;
    box-shadow: 0 10px 20px rgba(255, 64, 129, 0.6) !important;
}

/* Плавающие сердечки */
.floating-heart {
    pointer-events: none;
}

/* Звездочки */
.final-star {
    pointer-events: none;
}

/* Плавное появление эффектов */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#final-screen .heart-wrapper {
    animation: fadeInUp 1s ease-out;
}

/* ПРОГРЕСС БАР */
.progress {
    width: 300px;
    height: 6px;
    background-color: #ffccdc;
    border-radius: 3px;
    margin-top: 20px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(to right, #ff4081, #ff79a9);
    width: 0%;
    transition: width 0.5s ease;
    border-radius: 3px;
}

/* ФИНАЛЬНЫЙ ВОПРОС */
.final-question {
    font-family: 'Dancing Script', cursive;
    font-size: 2rem;
    color: #d81b60;
    padding: 15px;
    text-align: center;
    max-width: 90%;
}

/* Эффект свечения для финального сердца */
.heart.glowing .heart-base,
.heart.glowing .heart-front {
    animation: heartGlow 2s infinite alternate;
}

@keyframes heartGlow {
    0% {
        filter: drop-shadow(0 0 15px rgba(255, 77, 121, 0.6));
    }
    100% {
        filter: drop-shadow(0 0 30px rgba(255, 77, 121, 0.9));
    }
}

/* Звездочки */
.stars {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 4;
    pointer-events: none;
}

.star {
    position: absolute;
    color: #ffd700;
    font-size: 22px;
    opacity: 0;
    animation: twinkle 2s infinite;
}

.star:nth-child(1) { top: 20%; left: 25%; animation-delay: 0s; }
.star:nth-child(2) { top: 30%; left: 70%; animation-delay: 0.3s; }
.star:nth-child(3) { top: 60%; left: 20%; animation-delay: 0.6s; }
.star:nth-child(4) { top: 70%; left: 65%; animation-delay: 0.9s; }
.star:nth-child(5) { top: 45%; left: 50%; animation-delay: 1.2s; }

@keyframes twinkle {
    0%, 100% { opacity: 0.2; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

#final-screen .question {
    font-family: 'Dancing Script', cursive;
    font-size: 2.8rem;
    color: #d81b60;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    min-height: 80px;
    transition: all 1s ease;
}

/* Кнопка "нет" на финальном экране - ТАКОЙ ЖЕ как на обычном экране */
/* КНОПКА НЕТ НА ФИНАЛЬНОМ ЭКРАНЕ - ТАКАЯ ЖЕ КАК НА ОБЫЧНОМ ЭКРАНЕ */
#final-no {
    background-color: #b0b0b0 !important;
    color: #888 !important;
    border: none !important;
    padding: 14px 28px !important; /* БОЛЬШЕ для легкого клика */
    font-size: 1.3rem !important; /* КРУПНЕЕ текст */
    border-radius: 30px !important; /* БОЛЬШЕ скругление */
    cursor: pointer !important;
    transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1) !important; /* МЕДЛЕННЕЕ */
    position: absolute !important;
    z-index: 10 !important;
    user-select: none !important;
    opacity: 0.85 !important; /* БОЛЬШЕ прозрачности для видимости */
    box-shadow:
        0 4px 10px rgba(0,0,0,0.2),
        0 0 0 3px rgba(255, 255, 255, 0.3) !important; /* Белая обводка для видимости */
    pointer-events: auto !important;
    min-width: 90px !important; /* Минимальная ширина */
    text-align: center !important;
    /* Для мобильных устройств */
    -webkit-tap-highlight-color: rgba(0,0,0,0.3);
    touch-action: manipulation;
    font-weight: 600 !important; /* Жирнее текст */
}

/* Когда кнопка убегает - делаем ее ОЧЕНЬ заметной */

/* Анимация пульсации для убегающей кнопки */
@keyframes pulse-glow {
    0% {
        box-shadow:
            0 8px 25px rgba(255, 0, 0, 0.6),
            0 0 0 5px rgba(255, 255, 255, 0.7),
            inset 0 0 15px rgba(255, 255, 255, 0.4);
    }
    100% {
        box-shadow:
            0 12px 35px rgba(255, 0, 0, 0.8),
            0 0 0 7px rgba(255, 255, 255, 0.9),
            inset 0 0 25px rgba(255, 255, 255, 0.6);
        transform: scale(1.05);
    }
}

#final-no.escaping {
    position: fixed !important;
    z-index: 1000 !important;
    pointer-events: auto !important;
}

/* КНОПКА ДА НА ФИНАЛЬНОМ ЭКРАНЕ */
#final-yes {
    background: linear-gradient(to right, #ff4081, #ff79a9) !important;
    color: white !important;
    border: none !important;
    padding: 16px 40px !important;
    font-size: 1.7rem !important;
    border-radius: 50px !important;
    cursor: pointer !important;
    box-shadow: 0 6px 15px rgba(255, 64, 129, 0.4) !important;
    transition: all 0.3s ease !important;
    font-weight: 700 !important;
    letter-spacing: 1px !important;
    position: relative !important;
    z-index: 11 !important;
}

#final-yes:hover {
    transform: translateY(-3px) scale(1.05) !important;
    box-shadow: 0 10px 20px rgba(255, 64, 129, 0.6) !important;
}

/* ГРУППА КНОПОК НА ФИНАЛЬНОМ ЭКРАНЕ */
#final-screen .button-group {
    position: fixed;
    bottom: 30px;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    padding: 0 20px;
    z-index: 100;
}

/* ФИНАЛЬНЫЙ ВОПРОС */
#final-screen .question {
    font-family: 'Dancing Script', cursive;
    font-size: 2.8rem;
    color: #d81b60;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    min-height: 80px;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease, transform 1s ease;
}

/* СВЕЧЕНИЕ СЕРДЦА */
#final-heart.glowing .heart-base,
#final-heart.glowing .heart-front {
    filter: drop-shadow(0 0 20px rgba(255, 77, 121, 0.7));
    transition: filter 0.5s ease;
}

/* ЗВЕЗДОЧКИ */
.star {
    opacity: 0;
}

/* ПЛАВАЮЩИЕ СЕРДЕЧКИ */
.floating-heart {
    pointer-events: none;
}

/* Анимация печатания текста */
@keyframes typing {
    from { width: 0 }
    to { width: 100% }
}

@keyframes blink-caret {
    from, to { border-color: transparent }
    50% { border-color: #ff4081 }
}

/* СЧАСТЛИВЫЙ ФИНАЛ */
.love-text {
    font-family: 'Dancing Script', cursive;
    font-size: 3.5rem;
    color: #ff4081;
    margin: 20px 0;
    text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.15);
    animation: heartbeat 1.5s infinite;
    text-align: center;
    max-width: 90%;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.photo-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    width: 90%;
    max-width: 500px;
    margin: 0 auto 20px;
}

.photo-grid img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.photo-grid img:hover {
    transform: scale(1.05);
}

/* Анимация выброса сердца */
@keyframes throwHeart {
    0% {
        transform: translate(0, 0) scale(1) rotate(0deg);
        opacity: 1;
        left: 50%;
        top: 0;
    }
    50% {
        transform: translateY(100px) scale(0.8) rotate(180deg);
        opacity: 0.8;
        left: 50%;
        top: 100px;
    }
    80% {
        transform: translateY(200px) scale(0.6) rotate(360deg);
        opacity: 0.5;
        left: 50%;
        top: 200px;
    }
    100% {
        transform: translateY(250px) translateX(50px) scale(0.4) rotate(540deg)
        opacity: 0.3;
        left: 70%;
        top: 230px;
    }
}

/* Сцена мусорки */
.trash-scene {
    position: relative;
    width: 500px;
    height: 300px; /* Увеличили высоту для анимации */
    margin: 0 auto 30px;
    overflow: hidden; /* Чтобы сердце не выходило за пределы */
}

.trash-bin {
    position: absolute;
    bottom: 0;
    left: 48%;
    transform: translateX(-50%);
    width: 120px;
    height: 150px;
}

/* Тело мусорки */
.bin-body {
    width: 120px;
    height: 110px;
    background: linear-gradient(to right, #757575, #9e9e9e);
    border-radius: 0 0 8px 8px;
    position: absolute;
    bottom: 0;
    z-index: 2;
}

/* Крышка мусорки - ИЗМЕНЕНО: начальное состояние открыто */
.bin-lid {
    width: 130px;
    height: 15px;
    background: linear-gradient(to right, #616161, #757575);
    border-radius: 4px;
    position: absolute;
    top: 0;
    left: -5px;
    transform-origin: left center;
    transform: rotate(-45deg); /* НАЧАЛЬНОЕ СОСТОЯНИЕ: ОТКРЫТО */
    transition: transform 0.5s ease-in-out;
    z-index: 3;
}

/* Сердце для выброса */
#trashed-heart {
    position: absolute;
    left: 50%;
    top: 0;
    width: 100px;
    height: 100px;
    margin-left: -50px;
    transform: translateY(0) scale(1);
    opacity: 1;
    z-index: 1;
}

#trashed-heart .heart-container {
    width: 100%;
    height: 100%;
}

/* Эффект падения */
.fall-effect {
    position: absolute;
    width: 2px;
    height: 0;
    background: linear-gradient(to bottom, rgba(255,64,129,0.8), transparent);
    left: 50%;
    top: 0;
    transform: translateX(-50%);
    animation: fallLine 2s 0.2s forwards;
    opacity: 0;
}

@keyframes fallLine {
    0% {
        height: 0;
        opacity: 0;
    }
    50% {
        height: 230px;
        opacity: 0.6;
    }
    100% {
        height: 230px;
        opacity: 0;
    }
}

/* Сообщение в конце */
.ending-text {
    text-align: center;
    color: #757575;
    font-family: 'Comic Sans MS', cursive;
    font-size: 1.8rem;
    margin-top: 30px;
    opacity: 0;
    animation: fadeInText 1s 3s forwards;
}

@keyframes fadeInText {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.heart.discarded {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%) scale(0.5);

}

@keyframes throwHeart {
    0% { top: 0; transform: translateX(-50%) scale(0.5) rotate(0deg); }
    50% { top: 80px; transform: translateX(-50%) scale(0.5) rotate(180deg); }
    100% { top: 140px; transform: translateX(-50%) scale(0.4) rotate(360deg); opacity: 0.7; }
}

.ending-text {
    color: #d81b60;
    font-size: 1.8rem;
    margin-bottom: 15px;
    max-width: 90%;
    text-align: center;
}

.ending-subtext {
    color: #888;
    font-size: 1.1rem;
    margin-bottom: 25px;
    font-style: italic;
    text-align: center;
}

/* Падающие сердечки */
.hearts-fall {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}

.falling-heart {
    position: absolute;
    color: #ff4081;
    font-size: 20px;
    opacity: 0.6;
    animation: fall linear infinite;
}

@keyframes fall {
    0% { top: -50px; transform: rotate(0deg); }
    100% { top: 100vh; transform: rotate(360deg); }
}

/* Частицы фона */
.particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
}

/* АДАПТИВНОСТЬ */
/* Для мобильных - НЕ ПЕРЕЗАПИСЫВАЕМ clip-path! */
@media (max-width: 768px) {
    .container {
        padding: 10px;
    }

    .heart-wrapper {
        width: 400px; /* Восстановил: было 320px */
        height: 320px;
    }

    .heart-container {
        width: 240px;
        height: 240px;
    }

    .heart-base,
    .heart-front {
        width: 240px;
        height: 240px;
        /* УБИРАЕМ clip-path отсюда - он уже задан выше */
    }

    /* УБИРАЕМ эти строки полностью! */
    /* .heart.folded .heart-front {
        clip-path: path('M120,48 C72,0 24,24 24,72 C24,120 72,168 120,216 L120,48 Z');
    }

    .heart.unfolded .heart-front {
        clip-path: path('M120,48 C72,0 24,24 24,72 C24,120 72,168 120,216 C168,168 216,120 216,72 C216,24 168,0 120,48 Z');
    } */

    .heart-content {
        width: 190px;
        height: 190px;
        top: 25px;
        left: 25px;
    }

    .question {
        font-size: 2.3rem;
        margin-bottom: 15px;
    }

    .final-question {
        font-size: 1.7rem;
    }

    .love-text {
        font-size: 2.8rem;
    }

    .photo-grid {
        grid-template-columns: repeat(2, 1fr);
        max-width: 400px;
    }

    .photo-grid img {
        height: 100px;
    }

    .button-group {
        bottom: 20px;
        gap: 15px;
    }

    .btn-yes {
        padding: 14px 30px;
        font-size: 1.5rem;
    }

    .btn-no {
        padding: 8px 16px;
        font-size: 1.1rem;
        left: calc(50% + 70px);
    }
}

@media (max-width: 480px) {
    .heart-wrapper {
        width: 350px; /* Восстановил: было 280px */
        height: 280px;
    }

    .heart-container {
        width: 210px;
        height: 210px;
    }

    .heart-base,
    .heart-front {
        width: 210px;
        height: 210px;
        /* УБИРАЕМ clip-path отсюда */
    }

    /* УБИРАЕМ эти строки полностью! */
    /* .heart.folded .heart-front {
        clip-path: path('M105,42 C63,0 21,21 21,63 C21,105 63,147 105,189 L105,42 Z');
    }

    .heart.unfolded .heart-front {
        clip-path: path('M105,42 C63,0 21,21 21,63 C21,105 63,147 105,189 C147,147 189,105 189,63 C189,21 147,0 105,42 Z');
    } */

    .heart-content {
        width: 170px;
        height: 170px;
        top: 20px;
        left: 20px;
    }

    .question {
        font-size: 2rem;
    }

    .love-text {
        font-size: 2.3rem;
    }

    .photo-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        max-width: 300px;
    }

    .photo-grid img {
        height: 90px;
    }
}}
/* Анимация для вылетающих фотографий */
.flying-photo {
    transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    will-change: transform, left, top, opacity;
}

/* Анимация падения сердечек */
@keyframes fall {
    0% {
        top: -50px;
        transform: translateX(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        top: 100vh;
        transform: translateX(${Math.random() * 100 - 50}px) rotate(360deg);
        opacity: 0;
    }
}

/* Для счастливого финала - грид с фото */
.photo-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    width: 90%;
    max-width: 600px;
    margin: 20px auto 30px;
    perspective: 1000px;
}

.photo-grid img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    transform-style: preserve-3d;
}

.photo-grid img:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

/* Адаптивность для фото-грида */
@media (max-width: 768px) {
    .photo-grid {
        grid-template-columns: repeat(2, 1fr);
        max-width: 450px;
        gap: 10px;
    }

    .photo-grid img {
        height: 120px;
    }
}

@media (max-width: 480px) {
    .photo-grid {
        grid-template-columns: repeat(2, 1fr);
        max-width: 300px;
        gap: 8px;
    }

    .photo-grid img {
        height: 100px;
    }
}
@keyframes fall {
    0% {
        top: -50px;
        transform: translateX(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        top: 100vh;
        transform: translateX(calc(var(--random-x, 0) * 1px)) rotate(360deg);
        opacity: 0;
    }
}

/* Для каждого сердечка задаем случайное смещение по X */
.falling-heart {
    --random-x: calc((random() * 100) - 50);
}

